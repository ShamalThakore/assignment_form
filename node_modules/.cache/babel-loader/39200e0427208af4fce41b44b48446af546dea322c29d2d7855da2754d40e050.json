{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport axios from \"axios\";\nimport Treeselect from '@riophae/vue-treeselect';\nimport Swal from 'sweetalert2';\nimport { ValidationProvider, ValidationObserver, extend } from 'vee-validate';\nimport { required, email } from 'vee-validate/dist/rules';\n\n// Built-in rules\nextend(\"required\", required);\nextend(\"email\", email);\n\n// Custom mobile rule\nextend(\"mobile\", {\n  validate: value => {\n    const digits = value.replace(/\\D/g, \"\");\n    return digits.length === 10;\n  },\n  message: \"Mobile must be 10 digits\"\n});\n\n// Custom file rule\nextend(\"file_required\", {\n  validate: value => value !== null && value !== undefined && value.name,\n  message: \"Please upload a file\"\n});\nexport default {\n  components: {\n    Treeselect,\n    ValidationProvider,\n    ValidationObserver\n  },\n  data() {\n    return {\n      groups: [{\n        name: \"\",\n        email: \"\",\n        mobile: \"\"\n      }, {\n        name: \"\",\n        email: \"\",\n        mobile: \"\"\n      }],\n      form: {\n        birthdate: \"\",\n        gender: \"\",\n        languages: [],\n        cities: [],\n        file: null\n      },\n      genderOptions: [\"Male\", \"Female\", \"Other\"],\n      languageOptions: [\"Angular\", \"Vuejs\", \"ReactJs\"],\n      cityOptions: [{\n        id: \"mumbai\",\n        label: \"Mumbai\"\n      }, {\n        id: \"pune\",\n        label: \"Pune\"\n      }, {\n        id: \"thane\",\n        label: \"Thane\"\n      }, {\n        id: \"raigad\",\n        label: \"Raigad\"\n      }, {\n        id: \"delhi\",\n        label: \"Delhi\"\n      }, {\n        id: \"nashik\",\n        label: \"Nashik\"\n      }],\n      submittedData: [],\n      tableFields: [\"groupData\", \"birthdate\", \"gender\", \"languages\", \"cities\", \"fileName\"]\n    };\n  },\n  methods: {\n    addGroup() {\n      this.groups.push({\n        name: \"\",\n        email: \"\",\n        mobile: \"\"\n      });\n    },\n    removeGroup(idx) {\n      if (this.groups.length > 2) this.groups.splice(idx, 1);\n    },\n    formatMobile(idx) {\n      let num = this.groups[idx].mobile.replace(/\\D/g, \"\").substring(0, 10);\n      if (num.length > 6) num = `(${num.substring(0, 3)}) ${num.substring(3, 6)}-${num.substring(6)}`;else if (num.length > 3) num = `(${num.substring(0, 3)}) ${num.substring(3)}`;else if (num.length > 0) num = `(${num}`;\n      this.$set(this.groups[idx], \"mobile\", num);\n    },\n    validateFile(e) {\n      const file = e.target.files[0];\n      if (!file) {\n        this.form.file = null;\n        return;\n      }\n      const allowed = [\"image/jpeg\", \"application/pdf\"];\n      if (!allowed.includes(file.type)) {\n        this.form.file = null;\n      } else {\n        this.form.file = file;\n      }\n    },\n    submitForm() {\n      this.$refs.observer.validate().then(valid => {\n        if (!valid) {\n          Swal.fire({\n            title: 'Error!',\n            text: 'Please fix errors',\n            icon: 'error'\n          });\n          return;\n        }\n        console.log();\n        // extra check for file\n        if (!this.form.file) {\n          Swal.fire({\n            title: 'Error!',\n            text: 'Please upload a file!',\n            icon: 'error'\n          });\n          return;\n        }\n        const payload = {\n          groups: this.groups,\n          birthdate: this.form.birthdate,\n          gender: this.form.gender,\n          languages: this.form.languages,\n          cities: this.form.cities.map(c => c.id || c),\n          fileName: this.form.file.name\n        };\n        axios.post(\"https://fakeapi.in/api/random\", payload).then(res => {\n          console.log(\"API Response:\", res.data);\n          this.submittedData.push({\n            groupData: JSON.stringify(this.groups),\n            birthdate: this.form.birthdate,\n            gender: this.form.gender,\n            languages: this.form.languages.join(\", \"),\n            cities: this.form.cities.map(c => c.id || c).join(\", \"),\n            fileName: this.form.file.name\n          });\n          Swal.fire({\n            title: 'Form submitted!',\n            icon: 'success',\n            confirmButtonText: 'OK'\n          });\n\n          // Reset form\n          this.groups = [{\n            name: \"\",\n            email: \"\",\n            mobile: \"\"\n          }, {\n            name: \"\",\n            email: \"\",\n            mobile: \"\"\n          }];\n          this.form = {\n            birthdate: \"\",\n            gender: \"\",\n            languages: [],\n            cities: [],\n            file: null\n          };\n        }).catch(err => {\n          Swal.fire({\n            title: 'Error',\n            text: err.message,\n            icon: 'error'\n          });\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Treeselect","Swal","ValidationProvider","ValidationObserver","extend","required","email","validate","value","digits","replace","length","message","undefined","name","components","data","groups","mobile","form","birthdate","gender","languages","cities","file","genderOptions","languageOptions","cityOptions","id","label","submittedData","tableFields","methods","addGroup","push","removeGroup","idx","splice","formatMobile","num","substring","$set","validateFile","e","target","files","allowed","includes","type","submitForm","$refs","observer","then","valid","fire","title","text","icon","console","log","payload","map","c","fileName","post","res","groupData","JSON","stringify","join","confirmButtonText","catch","err"],"sources":["src/components/HelloWorld.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n\n    <!-- Assignment Form -->\n    <b-card title=\"Assignment Form\" class=\"mb-4 p-4\">\n\n      <ValidationObserver ref=\"observer\">\n        <b-form @submit.prevent=\"submitForm\">\n\n          <!-- Add Group -->\n          <div class=\"text-right mb-3\">\n            <b-button size=\"sm\" variant=\"outline-primary\" @click=\"addGroup\">+ Add Group</b-button>\n          </div>\n\n          <!-- Dynamic Groups -->\n          <div v-for=\"(grp, idx) in groups\" :key=\"idx\" class=\"border rounded p-3 mb-3\">\n            <h5 class=\"mb-3\">Group {{ idx + 1 }}</h5>\n            <b-row>\n\n              <!-- Name -->\n              <b-col md=\"4\" class=\"mb-2\">\n                <ValidationProvider :vid=\"'name-'+idx\" name=\"Name\" rules=\"required\" v-slot=\"{ errors }\">\n                  <b-form-group label=\"Name\">\n                    <b-form-input\n                      v-model=\"grp.name\"\n                      placeholder=\"Enter full name\"\n                      :state=\"errors.length ? false : null\"\n                    ></b-form-input>\n                    <small class=\"text-danger\">{{ errors[0] }}</small>\n                  </b-form-group>\n                </ValidationProvider>\n              </b-col>\n\n              <!-- Email -->\n              <b-col md=\"4\" class=\"mb-2\">\n                <ValidationProvider :vid=\"'email-'+idx\" name=\"Email\" rules=\"required|email\" v-slot=\"{ errors }\">\n                  <b-form-group label=\"Email\">\n                    <b-form-input\n                      v-model=\"grp.email\"\n                      type=\"email\"\n                      placeholder=\"Enter email\"\n                      :state=\"errors.length ? false : null\"\n                    ></b-form-input>\n                    <small class=\"text-danger\">{{ errors[0] }}</small>\n                  </b-form-group>\n                </ValidationProvider>\n              </b-col>\n\n              <!-- Mobile -->\n              <b-col md=\"3\" class=\"mb-2\">\n                <ValidationProvider :vid=\"'mobile-'+idx\" name=\"Mobile\" rules=\"required|mobile\" v-slot=\"{ errors }\">\n                  <b-form-group label=\"Mobile\">\n                    <b-form-input\n                      v-model=\"grp.mobile\"\n                      maxlength=\"14\"\n                      @input=\"formatMobile(idx)\"\n                      placeholder=\"(123) 456-7890\"\n                      :state=\"errors.length ? false : null\"\n                    ></b-form-input>\n                    <small class=\"text-danger\">{{ errors[0] }}</small>\n                  </b-form-group>\n                </ValidationProvider>\n              </b-col>\n\n              <!-- Remove Button -->\n              <b-col md=\"1\" class=\"d-flex align-items-center justify-content-end\">\n                <b-button v-if=\"groups.length > 2\" variant=\"danger\" size=\"sm\" @click=\"removeGroup(idx)\">âœ•</b-button>\n              </b-col>\n\n            </b-row>\n          </div>\n\n          <!-- Other Fields -->\n          <b-row>\n\n            <!-- Birthdate -->\n            <b-col md=\"4\" class=\"mb-2\">\n              <ValidationProvider name=\"Birthdate\" rules=\"required\" v-slot=\"{ errors }\">\n                <b-form-group label=\"Birth Date\">\n                  <b-form-input type=\"date\" v-model=\"form.birthdate\" :state=\"errors.length ? false : null\"></b-form-input>\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\n                </b-form-group>\n              </ValidationProvider>\n            </b-col>\n\n            <!-- Gender -->\n            <b-col md=\"4\" class=\"mb-2\">\n              <ValidationProvider name=\"Gender\" rules=\"required\" v-slot=\"{ errors }\">\n                <b-form-group label=\"Gender\">\n                  <b-form-radio-group v-model=\"form.gender\" :options=\"genderOptions\" :state=\"errors.length ? false : null\"></b-form-radio-group>\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\n                </b-form-group>\n              </ValidationProvider>\n            </b-col>\n\n            <!-- Languages -->\n            <b-col md=\"4\" class=\"mb-2\">\n              <ValidationProvider name=\"Languages\" rules=\"required\" v-slot=\"{ errors }\">\n                <b-form-group label=\"Languages\">\n                  <b-form-checkbox-group v-model=\"form.languages\" :options=\"languageOptions\" :state=\"errors.length ? false : null\"></b-form-checkbox-group>\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\n                </b-form-group>\n              </ValidationProvider>\n            </b-col>\n\n            <!-- Cities -->\n            <b-col md=\"6\" class=\"mb-2\">\n              <ValidationProvider name=\"Cities\" rules=\"required\" v-slot=\"{ errors }\">\n                <b-form-group label=\"Select Cities\">\n                  <treeselect\n                    v-model=\"form.cities\"\n                    :options=\"cityOptions\"\n                    multiple\n                    placeholder=\"Choose cities\"\n                    :state=\"errors.length ? false : null\"\n                  ></treeselect>\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\n                </b-form-group>\n              </ValidationProvider>\n            </b-col>\n\n            <!-- File Upload -->\n            <b-col md=\"6\" class=\"mb-2\">\n              <ValidationProvider name=\"File\" rules=\"file_required\" v-slot=\"{ errors }\">\n                <b-form-group label=\"Upload File (JPEG/PDF)\">\n                  <b-form-file\n                    v-model=\"form.file\"\n                    accept=\".jpg,.jpeg,.pdf\"\n                    :state=\"errors.length ? false : null\"\n                    @change=\"validateFile\"\n                  ></b-form-file>\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\n                </b-form-group>\n              </ValidationProvider>\n            </b-col>\n\n            <!-- Submit Button -->\n            <b-col cols=\"12\" class=\"mt-3\">\n              <b-button type=\"submit\" variant=\"success\" size=\"lg\" class=\"w-100\">Submit Form</b-button>\n            </b-col>\n\n          </b-row>\n\n        </b-form>\n      </ValidationObserver>\n    </b-card>\n\n    <!-- Submitted Data Table -->\n    <b-card v-if=\"submittedData.length\" title=\"Submitted Data\" class=\"p-3\">\n      <b-table :items=\"submittedData\" :fields=\"tableFields\" bordered striped small responsive></b-table>\n    </b-card>\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Treeselect from '@riophae/vue-treeselect';\nimport Swal from 'sweetalert2';\nimport { ValidationProvider, ValidationObserver, extend } from 'vee-validate';\nimport { required, email } from 'vee-validate/dist/rules';\n\n// Built-in rules\nextend(\"required\", required);\nextend(\"email\", email);\n\n// Custom mobile rule\nextend(\"mobile\", {\n  validate: value => {\n    const digits = value.replace(/\\D/g, \"\");\n    return digits.length === 10;\n  },\n  message: \"Mobile must be 10 digits\"\n});\n\n// Custom file rule\nextend(\"file_required\", {\n  validate: value => value !== null && value !== undefined && value.name,\n  message: \"Please upload a file\"\n});\n\nexport default {\n  components: { Treeselect, ValidationProvider, ValidationObserver },\n  data() {\n    return {\n      groups: [\n        { name:\"\", email:\"\", mobile:\"\" },\n        { name:\"\", email:\"\", mobile:\"\" }\n      ],\n      form: { birthdate:\"\", gender:\"\", languages:[], cities:[], file:null },\n      genderOptions:[\"Male\",\"Female\",\"Other\"],\n      languageOptions:[\"Angular\",\"Vuejs\",\"ReactJs\"],\n      cityOptions:[\n        {id:\"mumbai\", label:\"Mumbai\"},\n        {id:\"pune\", label:\"Pune\"},\n        {id:\"thane\", label:\"Thane\"},\n        {id:\"raigad\", label:\"Raigad\"},\n        {id:\"delhi\", label:\"Delhi\"},\n        {id:\"nashik\", label:\"Nashik\"}\n      ],\n      submittedData:[],\n      tableFields:[\"groupData\",\"birthdate\",\"gender\",\"languages\",\"cities\",\"fileName\"]\n    };\n  },\n  methods:{\n    addGroup(){ this.groups.push({name:\"\",email:\"\",mobile:\"\"}) },\n    removeGroup(idx){ if(this.groups.length>2) this.groups.splice(idx,1) },\n    formatMobile(idx){\n      let num=this.groups[idx].mobile.replace(/\\D/g,\"\").substring(0,10);\n      if(num.length>6) num=`(${num.substring(0,3)}) ${num.substring(3,6)}-${num.substring(6)}`;\n      else if(num.length>3) num=`(${num.substring(0,3)}) ${num.substring(3)}`;\n      else if(num.length>0) num=`(${num}`;\n      this.$set(this.groups[idx],\"mobile\",num);\n    },\n    validateFile(e){\n      const file=e.target.files[0];\n      if(!file){ this.form.file=null; return; }\n      const allowed=[\"image/jpeg\",\"application/pdf\"];\n      if(!allowed.includes(file.type)){ this.form.file=null; }\n      else{ this.form.file=file; }\n    },\n    submitForm(){\n      this.$refs.observer.validate().then(valid=>{\n        if(!valid){ \n          Swal.fire({title:'Error!', text:'Please fix errors', icon:'error'});\n          return; \n        }\n\n        console.log()\n        // extra check for file\n        if(!this.form.file){\n          Swal.fire({title:'Error!', text:'Please upload a file!', icon:'error'});\n          return;\n        }\n\n        const payload={\n          groups:this.groups,\n          birthdate:this.form.birthdate,\n          gender:this.form.gender,\n          languages:this.form.languages,\n          cities:this.form.cities.map(c=>c.id||c),\n          fileName:this.form.file.name\n        };\n\n        axios.post(\"https://fakeapi.in/api/random\", payload)\n        .then(res=>{\n          console.log(\"API Response:\", res.data);\n\n          this.submittedData.push({\n            groupData: JSON.stringify(this.groups),\n            birthdate:this.form.birthdate,\n            gender:this.form.gender,\n            languages:this.form.languages.join(\", \"),\n            cities:this.form.cities.map(c=>c.id||c).join(\", \"),\n            fileName:this.form.file.name\n          });\n\n          Swal.fire({title:'Form submitted!', icon:'success', confirmButtonText:'OK'});\n\n          // Reset form\n          this.groups=[{name:\"\",email:\"\",mobile:\"\"},{name:\"\",email:\"\",mobile:\"\"}];\n          this.form={birthdate:\"\", gender:\"\", languages:[], cities:[], file:null};\n        })\n        .catch(err=>{ Swal.fire({title:'Error', text:err.message, icon:'error'}) });\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.text-danger{ font-size:0.85rem; }\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}