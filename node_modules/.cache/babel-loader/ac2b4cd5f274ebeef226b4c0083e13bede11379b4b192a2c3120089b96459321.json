{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.json.stringify.js\";\n// import axios from \"axios\";\nimport Treeselect from '@riophae/vue-treeselect';\nimport Swal from 'sweetalert2';\nimport { ValidationProvider, ValidationObserver, extend } from 'vee-validate';\nimport { required, email } from 'vee-validate/dist/rules';\nextend(\"required\", required);\nextend(\"email\", email);\nextend(\"mobile\", {\n  validate: value => value.replace(/\\D/g, \"\").length === 10,\n  message: \"Mobile must be 10 digits\"\n});\n\n// File required rule\nextend(\"file_required\", {\n  validate: value => value instanceof File,\n  message: \"Please upload a file\"\n});\nexport default {\n  components: {\n    Treeselect,\n    ValidationProvider,\n    ValidationObserver\n  },\n  data() {\n    return {\n      groups: [{\n        name: \"\",\n        email: \"\",\n        mobile: \"\"\n      }, {\n        name: \"\",\n        email: \"\",\n        mobile: \"\"\n      }],\n      form: {\n        birthdate: \"\",\n        gender: \"\",\n        languages: [],\n        cities: [],\n        file: null\n      },\n      genderOptions: [\"Male\", \"Female\", \"Other\"],\n      languageOptions: [\"Angular\", \"Vuejs\", \"ReactJs\"],\n      cityOptions: [{\n        id: \"mumbai\",\n        label: \"Mumbai\"\n      }, {\n        id: \"pune\",\n        label: \"Pune\"\n      }, {\n        id: \"thane\",\n        label: \"Thane\"\n      }, {\n        id: \"raigad\",\n        label: \"Raigad\"\n      }, {\n        id: \"delhi\",\n        label: \"Delhi\"\n      }, {\n        id: \"nashik\",\n        label: \"Nashik\"\n      }],\n      submittedData: [],\n      tableFields: [\"groupData\", \"birthdate\", \"gender\", \"languages\", \"cities\", \"fileName\"],\n      fileError: \"\" // store file error here\n    };\n  },\n  methods: {\n    addGroup() {\n      this.groups.push({\n        name: \"\",\n        email: \"\",\n        mobile: \"\"\n      });\n    },\n    removeGroup(idx) {\n      if (this.groups.length > 2) this.groups.splice(idx, 1);\n    },\n    formatMobile(idx) {\n      let num = this.groups[idx].mobile.replace(/\\D/g, \"\").substring(0, 10);\n      if (num.length > 6) num = `(${num.substring(0, 3)}) ${num.substring(3, 6)}-${num.substring(6)}`;else if (num.length > 3) num = `(${num.substring(0, 3)}) ${num.substring(3)}`;else if (num.length > 0) num = `(${num}`;\n      this.$set(this.groups[idx], \"mobile\", num);\n    },\n    validateFile(e) {\n      const file = e.target.files[0];\n      if (!file) {\n        this.form.file = null;\n        this.fileError = \"Please upload a file\";\n        return;\n      }\n      const allowed = [\"image/jpeg\", \"application/pdf\"];\n      if (!allowed.includes(file.type)) {\n        this.form.file = null;\n        this.fileError = \"Only JPEG/PDF allowed!\";\n      } else {\n        this.form.file = file;\n        this.fileError = \"\"; // clear error\n      }\n    },\n    submitForm() {\n      this.$refs.observer.validate().then(valid => {\n        if (!this.form.file) {\n          this.fileError = \"Please upload a file\";\n        }\n        if (!valid || this.fileError) {\n          Swal.fire({\n            title: \"Error!\",\n            text: \"Please fix errors\",\n            icon: \"error\"\n          });\n          return;\n        }\n        const payload = {\n          groups: this.groups,\n          birthdate: this.form.birthdate,\n          gender: this.form.gender,\n          languages: this.form.languages,\n          cities: this.form.cities.map(c => c.id || c),\n          fileName: this.form.file.name\n        };\n        fetch('https://jsonplaceholder.typicode.com/posts', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(payload)\n        }).then(res => res.json()).then(data => {\n          console.log(\"Form submitted:\", data);\n          this.submittedData.push({\n            groupData: JSON.stringify(this.groups),\n            birthdate: this.form.birthdate,\n            gender: this.form.gender,\n            languages: this.form.languages.join(\", \"),\n            cities: this.form.cities.map(c => c.id || c).join(\", \"),\n            fileName: this.form.file.name\n          });\n          Swal.fire({\n            title: 'Form submitted!',\n            icon: 'success',\n            confirmButtonText: 'OK'\n          });\n\n          // Reset form\n          this.groups = [{\n            name: \"\",\n            email: \"\",\n            mobile: \"\"\n          }, {\n            name: \"\",\n            email: \"\",\n            mobile: \"\"\n          }];\n          this.form = {\n            birthdate: \"\",\n            gender: \"\",\n            languages: [],\n            cities: [],\n            file: null\n          };\n        }).catch(error => {\n          Swal.fire({\n            title: 'Error',\n            text: error.message,\n            icon: 'error'\n          });\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["Treeselect","Swal","ValidationProvider","ValidationObserver","extend","required","email","validate","value","replace","length","message","File","components","data","groups","name","mobile","form","birthdate","gender","languages","cities","file","genderOptions","languageOptions","cityOptions","id","label","submittedData","tableFields","fileError","methods","addGroup","push","removeGroup","idx","splice","formatMobile","num","substring","$set","validateFile","e","target","files","allowed","includes","type","submitForm","$refs","observer","then","valid","fire","title","text","icon","payload","map","c","fileName","fetch","method","headers","body","JSON","stringify","res","json","console","log","groupData","join","confirmButtonText","catch","error"],"sources":["src/components/HelloWorld.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n\n    <!-- Assignment Form -->\n    <b-card title=\"Assignment Form\" class=\"mb-4 p-4\">\n      <ValidationObserver ref=\"observer\">\n        <b-form @submit.prevent=\"submitForm\">\n\n          <!-- Add Group -->\n          <div class=\"text-right mb-3\">\n            <b-button size=\"sm\" variant=\"outline-primary\" @click=\"addGroup\">+ Add Group</b-button>\n          </div>\n\n          <!-- Dynamic Groups -->\n          <div v-for=\"(grp, idx) in groups\" :key=\"idx\" class=\"border rounded p-3 mb-3\">\n            <h5 class=\"mb-3\">Group {{ idx + 1 }}</h5>\n            <b-row>\n              <!-- Name -->\n              <b-col md=\"4\" class=\"mb-2\">\n                <ValidationProvider :vid=\"'name-'+idx\" name=\"Name\" rules=\"required\" v-slot=\"{ errors }\">\n                  <b-form-group label=\"Name\">\n                    <b-form-input\n                      v-model=\"grp.name\"\n                      placeholder=\"Enter full name\"\n                      :state=\"errors.length ? false : null\"\n                    ></b-form-input>\n                    <small class=\"text-danger\">{{ errors[0] }}</small>\n                  </b-form-group>\n                </ValidationProvider>\n              </b-col>\n\n              <!-- Email -->\n              <b-col md=\"4\" class=\"mb-2\">\n                <ValidationProvider :vid=\"'email-'+idx\" name=\"Email\" rules=\"required|email\" v-slot=\"{ errors }\">\n                  <b-form-group label=\"Email\">\n                    <b-form-input\n                      v-model=\"grp.email\"\n                      type=\"email\"\n                      placeholder=\"Enter email\"\n                      :state=\"errors.length ? false : null\"\n                    ></b-form-input>\n                    <small class=\"text-danger\">{{ errors[0] }}</small>\n                  </b-form-group>\n                </ValidationProvider>\n              </b-col>\n\n              <!-- Mobile -->\n              <b-col md=\"3\" class=\"mb-2\">\n                <ValidationProvider :vid=\"'mobile-'+idx\" name=\"Mobile\" rules=\"required|mobile\" v-slot=\"{ errors }\">\n                  <b-form-group label=\"Mobile\">\n                    <b-form-input\n                      v-model=\"grp.mobile\"\n                      maxlength=\"14\"\n                      @input=\"formatMobile(idx)\"\n                      placeholder=\"(123) 456-7890\"\n                      :state=\"errors.length ? false : null\"\n                    ></b-form-input>\n                    <small class=\"text-danger\">{{ errors[0] }}</small>\n                  </b-form-group>\n                </ValidationProvider>\n              </b-col>\n\n              <!-- Remove Button -->\n              <b-col md=\"1\" class=\"d-flex align-items-center justify-content-end\">\n                <b-button v-if=\"groups.length > 2\" variant=\"danger\" size=\"sm\" @click=\"removeGroup(idx)\">âœ•</b-button>\n              </b-col>\n            </b-row>\n          </div>\n\n          <!-- Other Fields -->\n          <b-row>\n            <!-- Birthdate -->\n            <b-col md=\"4\" class=\"mb-2\">\n              <ValidationProvider name=\"Birthdate\" rules=\"required\" v-slot=\"{ errors }\">\n                <b-form-group label=\"Birth Date\">\n                  <b-form-input type=\"date\" v-model=\"form.birthdate\" :state=\"errors.length ? false : null\"></b-form-input>\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\n                </b-form-group>\n              </ValidationProvider>\n            </b-col>\n\n            <!-- Gender -->\n            <b-col md=\"4\" class=\"mb-2\">\n              <ValidationProvider name=\"Gender\" rules=\"required\" v-slot=\"{ errors }\">\n                <b-form-group label=\"Gender\">\n                  <b-form-radio-group v-model=\"form.gender\" :options=\"genderOptions\" :state=\"errors.length ? false : null\"></b-form-radio-group>\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\n                </b-form-group>\n              </ValidationProvider>\n            </b-col>\n\n            <!-- Languages -->\n            <b-col md=\"4\" class=\"mb-2\">\n              <ValidationProvider name=\"Languages\" rules=\"required\" v-slot=\"{ errors }\">\n                <b-form-group label=\"Languages\">\n                  <b-form-checkbox-group v-model=\"form.languages\" :options=\"languageOptions\" :state=\"errors.length ? false : null\"></b-form-checkbox-group>\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\n                </b-form-group>\n              </ValidationProvider>\n            </b-col>\n\n            <!-- Cities -->\n            <b-col md=\"6\" class=\"mb-2\">\n              <ValidationProvider name=\"Cities\" rules=\"required\" v-slot=\"{ errors }\">\n                <b-form-group label=\"Select Cities\">\n                  <treeselect\n                    v-model=\"form.cities\"\n                    :options=\"cityOptions\"\n                    multiple\n                    placeholder=\"Choose cities\"\n                    :state=\"errors.length ? false : null\"\n                  ></treeselect>\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\n                </b-form-group>\n              </ValidationProvider>\n            </b-col>\n\n            <!-- File Upload -->\n            <b-col md=\"6\" class=\"mb-2\">\n              <b-form-group label=\"Upload File (JPEG/PDF)\">\n                <b-form-file\n                  v-model=\"form.file\"\n                  accept=\".jpg,.jpeg,.pdf\"\n                  @change=\"validateFile\"\n                  :state=\"fileError ? false : null\"\n                ></b-form-file>\n                <small class=\"text-danger\">{{ fileError }}</small>\n              </b-form-group>\n            </b-col>\n            \n\n            <!-- Submit Button -->\n            <b-col cols=\"12\" class=\"mt-3\">\n              <b-button type=\"submit\" variant=\"success\" size=\"lg\" class=\"w-100\">Submit Form</b-button>\n            </b-col>\n          </b-row>\n\n        </b-form>\n      </ValidationObserver>\n    </b-card>\n\n    <!-- Submitted Data Table -->\n    <b-card v-if=\"submittedData.length\" title=\"Submitted Data\" class=\"p-3\">\n      <b-table :items=\"submittedData\" :fields=\"tableFields\" bordered striped small responsive></b-table>\n    </b-card>\n  </div>\n</template>\n\n<script>\n// import axios from \"axios\";\nimport Treeselect from '@riophae/vue-treeselect';\nimport Swal from 'sweetalert2';\nimport { ValidationProvider, ValidationObserver, extend } from 'vee-validate';\nimport { required, email } from 'vee-validate/dist/rules';\n\nextend(\"required\", required);\nextend(\"email\", email);\n\nextend(\"mobile\", {\n  validate: value => value.replace(/\\D/g,\"\").length === 10,\n  message: \"Mobile must be 10 digits\"\n});\n\n// File required rule\nextend(\"file_required\", {\n  validate: value => value instanceof File,\n  message: \"Please upload a file\"\n});\n\nexport default {\n  components: { Treeselect, ValidationProvider, ValidationObserver },\n  data() {\n    return {\n      groups: [\n        { name:\"\", email:\"\", mobile:\"\" },\n        { name:\"\", email:\"\", mobile:\"\" }\n      ],\n      form: { birthdate:\"\", gender:\"\", languages:[], cities:[], file:null },\n      genderOptions:[\"Male\",\"Female\",\"Other\"],\n      languageOptions:[\"Angular\",\"Vuejs\",\"ReactJs\"],\n      cityOptions:[\n        {id:\"mumbai\", label:\"Mumbai\"},\n        {id:\"pune\", label:\"Pune\"},\n        {id:\"thane\", label:\"Thane\"},\n        {id:\"raigad\", label:\"Raigad\"},\n        {id:\"delhi\", label:\"Delhi\"},\n        {id:\"nashik\", label:\"Nashik\"}\n      ],\n      submittedData:[],\n      tableFields:[\"groupData\",\"birthdate\",\"gender\",\"languages\",\"cities\",\"fileName\"],\n      fileError: \"\", // store file error here\n\n    };\n  },\n  methods:{\n    addGroup(){ this.groups.push({name:\"\",email:\"\",mobile:\"\"}) },\n    removeGroup(idx){ if(this.groups.length>2) this.groups.splice(idx,1) },\n    formatMobile(idx){\n      let num=this.groups[idx].mobile.replace(/\\D/g,\"\").substring(0,10);\n      if(num.length>6) num=`(${num.substring(0,3)}) ${num.substring(3,6)}-${num.substring(6)}`;\n      else if(num.length>3) num=`(${num.substring(0,3)}) ${num.substring(3)}`;\n      else if(num.length>0) num=`(${num}`;\n      this.$set(this.groups[idx],\"mobile\",num);\n    },\n    validateFile(e) {\n      const file = e.target.files[0];\n      if (!file) {\n        this.form.file = null;\n        this.fileError = \"Please upload a file\";\n        return;\n      }\n      const allowed = [\"image/jpeg\",\"application/pdf\"];\n      if (!allowed.includes(file.type)) {\n        this.form.file = null;\n        this.fileError = \"Only JPEG/PDF allowed!\";\n      } else {\n        this.form.file = file;\n        this.fileError = \"\"; // clear error\n      }\n    },\n    submitForm(){\n      this.$refs.observer.validate().then(valid=>{\n\n        if (!this.form.file) {\n          this.fileError = \"Please upload a file\";\n        }\n\n        if (!valid || this.fileError) {\n          Swal.fire({ \n            title: \"Error!\", \n            text: \"Please fix errors\", \n            icon: \"error\" \n          });\n          return;\n        }\n\n        const payload={\n          groups:this.groups,\n          birthdate:this.form.birthdate,\n          gender:this.form.gender,\n          languages:this.form.languages,\n          cities:this.form.cities.map(c=>c.id||c),\n          fileName:this.form.file.name\n        };\n\n        fetch('https://jsonplaceholder.typicode.com/posts', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(payload)\n        })\n        .then(res => res.json())\n        .then(data => {\n            console.log(\"Form submitted:\", data);\n            this.submittedData.push({\n              groupData: JSON.stringify(this.groups),\n              birthdate:this.form.birthdate,\n              gender:this.form.gender,\n              languages:this.form.languages.join(\", \"),\n              cities:this.form.cities.map(c=>c.id||c).join(\", \"),\n              fileName:this.form.file.name\n            });\n\n            Swal.fire({\n              title:'Form submitted!', \n              icon:'success', \n              confirmButtonText:'OK'\n            });\n\n            // Reset form\n            this.groups=[{name:\"\",email:\"\",mobile:\"\"},{name:\"\",email:\"\",mobile:\"\"}];\n            this.form={birthdate:\"\", gender:\"\", languages:[], cities:[], file:null};\n          })\n          .catch(error=>{ \n            Swal.fire({\n              title:'Error', \n              text:error.message, \n              icon:'error'}) });\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.text-danger{ font-size:0.85rem; }\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}