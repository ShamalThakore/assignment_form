{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport axios from \"axios\";\nimport Treeselect from '@riophae/vue-treeselect';\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css';\nexport default {\n  components: {\n    Treeselect\n  },\n  data() {\n    return {\n      groups: [{\n        name: \"\",\n        email: \"\",\n        mobile: \"\"\n      }, {\n        name: \"\",\n        email: \"\",\n        mobile: \"\"\n      }],\n      form: {\n        birthdate: \"\",\n        gender: \"\",\n        languages: [],\n        cities: [],\n        file: null\n      },\n      fileError: \"\",\n      submittedData: [],\n      genderOptions: [\"Male\", \"Female\", \"Other\"],\n      languageOptions: [\"Angular\", \"Vuejs\", \"ReactJs\"],\n      cityOptions: [{\n        id: 'mumbai',\n        label: 'Mumbai'\n      }, {\n        id: 'thane',\n        label: 'Thane'\n      }, {\n        id: 'pune',\n        label: 'Pune'\n      }, {\n        id: 'raigad',\n        label: 'Raigad'\n      }, {\n        id: 'delhi',\n        label: 'Delhi'\n      }, {\n        id: 'nashik',\n        label: 'Nashik'\n      }, {\n        id: 'hyderabad',\n        label: 'Hyderabad'\n      }, {\n        id: 'chennai',\n        label: 'Chennai'\n      }, {\n        id: 'bangalore',\n        label: 'Bangalore'\n      }, {\n        id: 'ahmedabad',\n        label: 'Ahmedabad'\n      }, {\n        id: 'surat',\n        label: 'Surat'\n      }, {\n        id: 'jaipur',\n        label: 'Jaipur'\n      }],\n      tableFields: [\"groupData\", \"birthdate\", \"gender\", \"languages\", \"cities\", \"fileName\"]\n    };\n  },\n  methods: {\n    formatMobile(index) {\n      let num = this.groups[index].mobile.replace(/\\D/g, \"\").substring(0, 10);\n      if (num.length > 6) num = `(${num.substring(0, 3)}) ${num.substring(3, 6)}-${num.substring(6)}`;else if (num.length > 3) num = `(${num.substring(0, 3)}) ${num.substring(3)}`;else if (num.length > 0) num = `(${num}`;\n      this.$set(this.groups[index], \"mobile\", num);\n    },\n    addGroup() {\n      this.groups.push({\n        name: \"\",\n        email: \"\",\n        mobile: \"\"\n      });\n    },\n    removeGroup(index) {\n      if (this.groups.length > 2) this.groups.splice(index, 1);\n    },\n    validateFile(e) {\n      const file = e.target.files[0];\n      if (!file) return;\n      const allowed = [\"image/jpeg\", \"application/pdf\"];\n      if (!allowed.includes(file.type)) {\n        this.fileError = \"Only JPEG and PDF allowed!\";\n        this.form.file = null;\n      } else {\n        this.fileError = \"\";\n        this.form.file = file;\n      }\n    },\n    async submitForm() {\n      try {\n        if (!this.form.file) {\n          this.fileError = \"Please upload a file!\";\n          return;\n        }\n        let a = this.form.cities.filter(c => c) // remove nulls\n        .map(c => c.id);\n        console.log();\n        const payload = {\n          groups: this.groups,\n          birthdate: this.form.birthdate,\n          gender: this.form.gender,\n          languages: this.form.languages,\n          cities: this.form.cities.filter(c => c) // remove nulls\n          .map(c => c.id),\n          // convert to strings\n          fileName: this.form.file.name\n        };\n\n        // Dummy API POST\n        const res = await axios.post(\"https://reqres.in/api/users\", payload);\n        console.log(\"API Response:\", res.data);\n\n        // Add to table\n        this.submittedData.push({\n          groupData: JSON.stringify(this.groups),\n          birthdate: this.formatDate(this.form.birthdate),\n          gender: this.form.gender,\n          languages: this.form.languages.join(\", \"),\n          cities: this.form.cities.filter(c => c).map(c => c.id).join(\", \"),\n          fileName: this.form.file.name\n        });\n        alert(\"Form submitted successfully!\");\n\n        // Reset form\n        // this.groups = [\n        //   { name: \"\", email: \"\", mobile: \"\" },\n        //   { name: \"\", email: \"\", mobile: \"\" },\n        // ];\n        // this.form = {\n        //   birthdate: \"\",\n        //   gender: \"\",\n        //   languages: [],\n        //   cities: [],\n        //   file: null\n        // };\n        // this.fileError = \"\";\n      } catch (error) {\n        console.error(\"API Error:\", error);\n        alert(\"API call failed! Check console.\");\n      }\n    },\n    formatDate(dateStr) {\n      return new Date(dateStr).toLocaleDateString(\"en-US\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Treeselect","components","data","groups","name","email","mobile","form","birthdate","gender","languages","cities","file","fileError","submittedData","genderOptions","languageOptions","cityOptions","id","label","tableFields","methods","formatMobile","index","num","replace","substring","length","$set","addGroup","push","removeGroup","splice","validateFile","e","target","files","allowed","includes","type","submitForm","a","filter","c","map","console","log","payload","fileName","res","post","groupData","JSON","stringify","formatDate","join","alert","error","dateStr","Date","toLocaleDateString","year","month","day"],"sources":["src/components/HelloWorld.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n\n    <b-card title=\"Assignment Form\">\n\n      <!-- ------------------ FORM ------------------ -->\n      <b-form @submit.prevent=\"submitForm\">\n\n        <!-- Add More Group Fields-->\n        <div class=\"text-right\">\n          <b-button variant=\"outline-primary\" size=\"sm\" class=\"mb-4\" @click=\"addGroup\">+ Add More</b-button>\n        </div>\n\n        <!-- -------- Dynamic Group Fields -------- -->\n        <div v-for=\"(grp, index) in groups\" :key=\"index\" class=\"border rounded p-3 mb-3\">\n          <h5>Group {{ index + 1 }}</h5>\n\n          <b-row>\n            <!-- NAME -->\n            <b-col cols=\"12\" sm=\"2\" md=\"4\" lg=\"3\" xl=\"3\" xxl=\"3\">\n              <b-form-group label=\"Name\">\n                <b-form-input v-model=\"grp.name\" placeholder=\"Enter your full name\" required></b-form-input>\n              </b-form-group>\n            </b-col>\n\n            <!-- EMAIL -->\n            <b-col cols=\"12\" sm=\"2\" md=\"4\" lg=\"3\" xl=\"3\" xxl=\"3\">\n              <b-form-group label=\"Email\">\n                <b-form-input type=\"email\" v-model=\"grp.email\" placeholder=\"Enter your email address\" required></b-form-input>\n              </b-form-group>\n            </b-col>\n\n            <!-- MOBILE -->\n            <b-col cols=\"12\" sm=\"2\" md=\"4\" lg=\"3\" xl=\"3\" xxl=\"3\">\n              <b-form-group label=\"Mobile Number\">\n                <b-form-input\n                  v-model=\"grp.mobile\"\n                  @input=\"formatMobile(index)\"\n                  placeholder=\"(844) 448-0110\"\n                  maxlength=\"14\"\n                  required>\n                </b-form-input>\n              </b-form-group>\n            </b-col>\n\n            <!-- REMOVE BUTTON -->\n            <b-col cols=\"12\" sm=\"2\" md=\"12\" lg=\"2\" xl=\"2\" xxl=\"3\" class=\"d-flex justify-content-end align-items-center\">\n              <b-button\n                v-if=\"groups.length > 2\"\n                variant=\"danger\"\n                size=\"sm\"\n                class=\"mt-2\"\n                @click=\"removeGroup(index)\">\n                Remove\n              </b-button>\n            </b-col>\n          </b-row>\n        </div>\n\n        <!-- -------- NON-GROUP FIELDS BELOW -------- -->\n        <b-row>\n          <!-- Birth Date -->\n          <b-col cols=\"12\" sm=\"6\" md=\"4\" lg=\"3\" xl=\"3\" xxl=\"3\">\n            <b-form-group label=\"Birth Date\">\n              <b-form-input type=\"date\" v-model=\"form.birthdate\" placeholder=\"Select your birth date\" required></b-form-input>\n            </b-form-group>\n          </b-col>\n\n          <!-- Gender -->\n          <b-col cols=\"12\" sm=\"6\" md=\"4\" lg=\"4\" xl=\"4\" xxl=\"4\">\n            <b-form-group label=\"Gender\">\n              <b-form-radio-group v-model=\"form.gender\" :options=\"genderOptions\" required />\n            </b-form-group>\n          </b-col>\n\n          <!-- Languages -->\n          <b-col cols=\"12\" sm=\"6\" md=\"4\" lg=\"4\" xl=\"4\" xxl=\"4\">\n            <b-form-group label=\"Languages\">\n              <b-form-checkbox-group v-model=\"form.languages\" :options=\"languageOptions\" />\n            </b-form-group>\n          </b-col>\n\n          <!-- Cities -->\n          <b-col cols=\"12\" sm=\"6\" md=\"4\" lg=\"3\" xl=\"3\" xxl=\"3\">\n            <b-form-group label=\"Select Cities\">\n              <treeselect \n                :options=\"cityOptions\" \n                :multiple=\"true\" \n                :limit=\"2\"\n                :limit-text=\"count => `+${count}`\"\n                v-model=\"form.cities\" \n                placeholder=\"Choose cities\">\n              </treeselect>\n            </b-form-group>\n          </b-col>\n\n          <!-- File Upload -->\n          <b-col cols=\"12\" sm=\"6\" md=\"4\" lg=\"3\" xl=\"3\" xxl=\"3\">\n            <b-form-group label=\"Upload File (JPEG / PDF)\">\n              <b-form-file\n                @change=\"validateFile\"\n                accept=\".jpg,.jpeg,.pdf\"\n                required>\n              </b-form-file>\n              <small class=\"text-danger\">{{ fileError }}</small>\n            </b-form-group>\n          </b-col>\n\n          <!-- Submit Button -->\n          <b-col cols=\"12\" sm=\"6\" md=\"4\" lg=\"3\" xl=\"2\" xxl=\"2\" class=\"d-flex align-items-end\">\n            <b-button type=\"submit\" variant=\"success\" class=\"w-100\">Submit Form</b-button>\n          </b-col>\n        </b-row>\n\n      </b-form>\n    </b-card>\n\n    <!-- SUBMITTED TABLE -->\n    <b-card title=\"Submitted Data\" class=\"mt-4\" v-if=\"submittedData.length\">\n      <b-table :items=\"submittedData\" :fields=\"tableFields\" bordered></b-table>\n    </b-card>\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Treeselect from '@riophae/vue-treeselect'\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\n\nexport default {\n  components: { Treeselect },\n\n  data() {\n    return {\n      groups: [\n        { name: \"\", email: \"\", mobile: \"\" },\n        { name: \"\", email: \"\", mobile: \"\" },\n      ],\n\n      form: {\n        birthdate: \"\",\n        gender: \"\",\n        languages: [],\n        cities: [],\n        file: null,\n      },\n\n      fileError: \"\",\n      submittedData: [],\n\n      genderOptions: [\"Male\", \"Female\", \"Other\"],\n      languageOptions: [\"Angular\", \"Vuejs\", \"ReactJs\"],\n      cityOptions: [\n        { id: 'mumbai', label: 'Mumbai' },\n        { id: 'thane', label: 'Thane' },\n        { id: 'pune', label: 'Pune' },\n        { id: 'raigad', label: 'Raigad' },\n        { id: 'delhi', label: 'Delhi' },\n        { id: 'nashik', label: 'Nashik' },\n        { id: 'hyderabad', label: 'Hyderabad' },\n        { id: 'chennai', label: 'Chennai' },\n        { id: 'bangalore', label: 'Bangalore' },\n        { id: 'ahmedabad', label: 'Ahmedabad' },\n        { id: 'surat', label: 'Surat' },\n        { id: 'jaipur', label: 'Jaipur' }\n      ],\n\n      tableFields: [\n        \"groupData\",\n        \"birthdate\",\n        \"gender\",\n        \"languages\",\n        \"cities\",\n        \"fileName\",\n      ],\n    };\n  },\n\n  methods: {\n    formatMobile(index) {\n      let num = this.groups[index].mobile.replace(/\\D/g, \"\").substring(0, 10);\n      if (num.length > 6) num = `(${num.substring(0, 3)}) ${num.substring(3, 6)}-${num.substring(6)}`;\n      else if (num.length > 3) num = `(${num.substring(0, 3)}) ${num.substring(3)}`;\n      else if (num.length > 0) num = `(${num}`;\n      this.$set(this.groups[index], \"mobile\", num);\n    },\n\n    addGroup() { this.groups.push({ name: \"\", email: \"\", mobile: \"\" }); },\n    removeGroup(index) { if (this.groups.length > 2) this.groups.splice(index, 1); },\n\n    validateFile(e) {\n      const file = e.target.files[0];\n      if (!file) return;\n      const allowed = [\"image/jpeg\", \"application/pdf\"];\n      if (!allowed.includes(file.type)) {\n        this.fileError = \"Only JPEG and PDF allowed!\";\n        this.form.file = null;\n      } else {\n        this.fileError = \"\";\n        this.form.file = file;\n      }\n    },\n\n    async submitForm() {\n      try {\n        if (!this.form.file) {\n          this.fileError = \"Please upload a file!\";\n          return;\n        }\n\n        let a = this.form.cities\n            .filter(c => c)        // remove nulls\n            .map(c => c.id)\n        console.log()\n        const payload = {\n          groups: this.groups,\n          birthdate: this.form.birthdate,\n          gender: this.form.gender,\n          languages: this.form.languages,\n          cities: this.form.cities\n            .filter(c => c)        // remove nulls\n            .map(c => c.id),    // convert to strings\n          fileName: this.form.file.name\n        };\n\n        // Dummy API POST\n        const res = await axios.post(\"https://reqres.in/api/users\", payload);\n        console.log(\"API Response:\", res.data);\n\n        // Add to table\n        this.submittedData.push({\n          groupData: JSON.stringify(this.groups),\n          birthdate: this.formatDate(this.form.birthdate),\n          gender: this.form.gender,\n          languages: this.form.languages.join(\", \"),\n          cities: this.form.cities\n            .filter(c => c)\n            .map(c => c.id)\n            .join(\", \"),\n          fileName: this.form.file.name\n        });\n\n        alert(\"Form submitted successfully!\");\n\n        // Reset form\n        // this.groups = [\n        //   { name: \"\", email: \"\", mobile: \"\" },\n        //   { name: \"\", email: \"\", mobile: \"\" },\n        // ];\n        // this.form = {\n        //   birthdate: \"\",\n        //   gender: \"\",\n        //   languages: [],\n        //   cities: [],\n        //   file: null\n        // };\n        // this.fileError = \"\";\n\n      } catch (error) {\n        console.error(\"API Error:\", error);\n        alert(\"API call failed! Check console.\");\n      }\n    },\n\n    formatDate(dateStr) {\n      return new Date(dateStr).toLocaleDateString(\"en-US\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n      });\n    },\n  }\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}